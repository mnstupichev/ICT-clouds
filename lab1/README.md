# –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è 1

## –≠—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### 0. –ê–Ω–∞–ª–∏–∑ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π

–°–ø—Ä–æ—Å–∏–ª –Ω–∞—à–µ–≥–æ [–∫–∏—Ç–∞–π—Å–∫–æ–≥–æ –¥—Ä—É–≥–∞](https://chat.deepseek.com)  - "–ö–∞–∫ –ª—É—á—à–µ –≤—ã–ø–æ–ª–Ω—è—Ç—å —Ä–∞–±–æ—Ç—É –ø–æ —à–∞–≥–∞–º" –∏ "–ü–æ–ª—É—á–∏—Ç—å—Å—è –ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Ä–∞–±–æ—Ç—É –Ω–∞ Windows".
–ö–æ–Ω–µ—á–Ω–æ –∂–µ –º–æ–∂–Ω–æ (—è –¥—É–º–∞—é —Ç–∞–∫ –≤ –Ω–∞—á–∞–ª–µ –æ—Ç—á–µ—Ç–∞), —Ç–∞–∫ —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–∏–ª WSL –∏ –Ω–∞—Å—Ç—Ä–æ–∏–ª —Ä–∞–±–æ—Ç—É —Ö–æ—Å—Ç–æ–≤.
#### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ hosts –≤ Windows:
–û—Ç–∫—Ä—ã–ª –ë–ª–æ–∫–Ω–æ—Ç –æ—Ç –∏–º–µ–Ω–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

–û—Ç–∫—Ä—ã–ª —Ñ–∞–π–ª C:\Windows\System32\drivers\etc\hosts

–î–æ–±–∞–≤–∏–ª —Å—Ç—Ä–æ–∫–∏:
```
127.0.0.1 alpha.test www.aaa.test
127.0.0.1 beta.test www.bbb.test
```
<img width="1414" height="724" alt="image" src="https://github.com/user-attachments/assets/2158f260-0522-445c-a74c-360f7112bfe5" />

–ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–∞–∫–æ–Ω—á–µ–Ω—ã, –ø–æ–∫–∞ —á—Ç–æ –≤—Å–µ –∏–¥–µ—Ç —Ö–æ—Ä–æ—à–æ, –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ —Ç–æ–∂–µ –∑–∞–º–º–µ—á–∞—Ç–µ–ª—å–Ω–æ–µ. :)

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∫–∞—Ç–∞–ª–æ–≥–æ–≤

–¢–∞–∫ –∫–∞–∫ –∏—Å–∫–∞—Ç—å –≥–æ—Ç–æ–≤—ã–π –ø–µ—Ç –ø—Ä–æ–µ–∫—Ç –±—ã–ª–æ –ª–µ–Ω—å, —è —Å–æ–∑–¥–∞–ª –¥–≤–∞ –Ω–µ–±–æ–ª—å—à–∏—Ö —Å –ø–∞—Ä–æ–π —Å—Ç—Ä–æ—á–µ–∫.
#### –î–ª—è —ç—Ç–æ–≥–æ —Å–æ–∑–¥–∞–¥–∏–º –ø–∞–ø–∫–∏ –¥–ª—è –Ω–∞—à–∏—Ö –¥–≤—É—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ –∏ –∏—Ö –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:
```
# –°–æ–∑–¥–∞–µ–º –∫–æ—Ä–Ω–µ–≤—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–ª—è —Ñ–∞–π–ª–æ–≤ –ø—Ä–æ–µ–∫—Ç–æ–≤
sudo mkdir -p /var/www/alpha.test/html
sudo mkdir -p /var/www/beta.test/html

# –°–æ–∑–¥–∞–µ–º –ø–∞–ø–∫–∏ –¥–ª—è –ª–æ–≥–æ–≤
sudo mkdir -p /var/www/alpha.test/logs
sudo mkdir -p /var/www/beta.test/logs

# –°–æ–∑–¥–∞–µ–º –ø—Ä–æ—Å—Ç—ã–µ index.html —Ñ–∞–π–ª—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
sudo nano /var/www/alpha.test/html/index.html
```
<img width="1246" height="349" alt="image" src="https://github.com/user-attachments/assets/f8b16318-496f-4a31-a55d-1c61911546d7" />

```
sudo nano /var/www/beta.test/html/index.html
```
<img width="1332" height="441" alt="image" src="https://github.com/user-attachments/assets/f6d6074a-98e4-4aac-8b77-1b28a4065571" />

```
# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞ –≤–ª–∞–¥–µ–Ω–∏—è
sudo chown -R www-data:www-data /var/www/alpha.test
sudo chown -R www-data:www-data /var/www/beta.test
sudo chmod -R 755 /var/www
```
<img width="972" height="276" alt="image" src="https://github.com/user-attachments/assets/3fcc557e-e1bc-4c91-ab90-cab51788e473" />

–û—Ç–ª–∏—á–Ω–æ, –∫–∞—Ç–∞–ª–æ–≥–∏ –≥–æ—Ç–æ–≤—ã. üéâ

### 2. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è SSL-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ (—Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã—Ö)

–ö–∞–∫ —è –ø–æ–Ω—è–ª –º–æ–∂–Ω–æ –≤–∑—è—Ç—å –≥–¥–µ-—Ç–æ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ, –Ω–æ —Å–¥–µ–ª–∞—Ç—å —Å–≤–æ–∏ –∫–∞–∫ –±—É–¥—Ç–æ –±—ã –ª–µ–≥—á–µ, —Ç–∞–∫ —á—Ç–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–µ:

```
# –°–æ–∑–¥–∞–µ–º –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
sudo mkdir /etc/nginx/ssl
```
```
# –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∫–ª—é—á –∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –¥–ª—è alpha.test
sudo openssl req -x509 -nodes -days 365 -newkey rsa:2048 \
    -keyout /etc/nginx/ssl/alpha.test.key \
    -out /etc/nginx/ssl/alpha.test.crt
```
<img width="1894" height="609" alt="image" src="https://github.com/user-attachments/assets/b7746013-a349-420d-9651-b9c86b097554" />

```
# –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∫–ª—é—á –∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –¥–ª—è beta.test
sudo openssl req -x509 -nodes -days 365 -newkey rsa:2048 \
    -keyout /etc/nginx/ssl/beta.test.key \
    -out /etc/nginx/ssl/beta.test.crt
```
<img width="1904" height="717" alt="image" src="https://github.com/user-attachments/assets/cf1f4fd5-be69-4d58-83b2-1074ee447431" />

–ü–æ—è—Å–Ω–µ–Ω–∏—è (–¥–ª—è —Å–µ–±—è –±–æ–ª—å—à–µ):
```
-x509: –°–æ–∑–¥–∞—Ç—å —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç

-nodes: –ù–µ —à–∏—Ñ—Ä–æ–≤–∞—Ç—å –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á (—á—Ç–æ–±—ã Nginx –º–æ–≥ —á–∏—Ç–∞—Ç—å –µ–≥–æ –±–µ–∑ –ø–∞—Ä–æ–ª—è)

-days 365: –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
```
–ü–æ–∫–∞ —á—Ç–æ –Ω–µ –±—ã–ª–æ –Ω–∏–æ–¥–Ω–æ–π –æ—à–∏–±–∫–∏, —ç—Ç–æ —É—Å–ø–µ—Ö. üî•

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö —Ö–æ—Å—Ç–æ–≤ (–∫–æ–Ω—Ñ–∏–≥–∏ —Å–∞–π—Ç–æ–≤)

–¢—Ä—É–¥–Ω–∞—è —á–∞—Å—Ç—å –ª–∞–±—ã. –ü–æ–µ—Ö–∞–ª–∏.

#### –°–æ–∑–¥–∞–¥–∏–º –ø–æ –æ—Ç–¥–µ–ª—å–Ω–æ–º—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–º—É —Ñ–∞–π–ª—É –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–∞–π—Ç–∞ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ sites-available.

* –§–∞–π–ª –¥–ª—è alpha.test:
```
sudo nano /etc/nginx/sites-available/alpha.test
```
<img width="1339" height="917" alt="image" src="https://github.com/user-attachments/assets/9b34946d-1d79-4415-9ae5-f04875461fb9" />

* –¢–æ–∂–µ —Å–∞–º–æ–µ –¥–ª—è beta.test:
```
sudo nano /etc/nginx/sites-available/beta.test
```
<img width="1332" height="876" alt="image" src="https://github.com/user-attachments/assets/ba992d98-8fda-45f9-bec0-a1eafddf8fcb" />

–ü–æ—è—Å–Ω–µ–Ω–∏–µ (—Ç–æ–∂–µ –¥–ª—è —Å–µ–±—è):
```
–ü–µ—Ä–≤—ã–π –±–ª–æ–∫ server: –õ–æ–≤–∏—Ç –≤—Å–µ HTTP-–∑–∞–ø—Ä–æ—Å—ã –∏ —Å –ø–æ–º–æ—â—å—é –∫–æ–¥–∞ 301 (Moved Permanently) –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –∏—Ö –Ω–∞ —Ç–æ—Ç –∂–µ URL, –Ω–æ –ø–æ –ø—Ä–æ—Ç–æ–∫–æ–ª—É HTTPS.

–í—Ç–æ—Ä–æ–π –±–ª–æ–∫ server: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç HTTPS-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è.

–î–∏—Ä–µ–∫—Ç–∏–≤–∞ ssl_certificate: –£–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –Ω–∞—à —Å–æ–∑–¥–∞–Ω–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç.

–î–∏—Ä–µ–∫—Ç–∏–≤–∞ location —Å alias: –≠—Ç–æ –∫–ª—é—á–µ–≤–æ–π –º–æ–º–µ–Ω—Ç. –û–Ω–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–ø–æ—Å—Ç–∞–≤–∏—Ç—å URL-–ø—É—Ç—å —Å –ø—É—Ç–µ–º –≤ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤–Ω–µ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å–∞–π—Ç–∞. root –∏ alias —Ä–∞–±–æ—Ç–∞—é—Ç –ø–æ-—Ä–∞–∑–Ω–æ–º—É:

root /var/www/alpha.test/html; + location /images/ { ... } = –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É /var/www/alpha.test/html/images/logo.jpg

alias /var/www/shared-assets/images/; + location /images/ { ... } = –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É /var/www/shared-assets/images/logo.jpg
```
–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–∞–∫–æ–Ω—á–µ–Ω–∞, –µ—Å–ª–∏ –≤—Å–µ –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç –±—É–¥–µ—Ç –º–∞–≥–∏—è. ‚ú®ü¶Ñüåà

### 4. –ê–∫—Ç–∏–≤–∞—Ü–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö —Ö–æ—Å—Ç–æ–≤ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ hosts

#### –°–æ–∑–¥–∞–µ–º —Å–∏–º–ª–∏–Ω–∫–∏ –∏–∑ sites-available –≤ sites-enabled, —á—Ç–æ–±—ã Nginx –∏—Ö –∑–∞–≥—Ä—É–∑–∏–ª:
```
sudo ln -s /etc/nginx/sites-available/alpha.test /etc/nginx/sites-enabled/
sudo ln -s /etc/nginx/sites-available/beta.test /etc/nginx/sites-enabled/
```
<img width="1336" height="89" alt="image" src="https://github.com/user-attachments/assets/c5f49931-d7cc-4dc3-b205-c7a709a145f7" />

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ hosts –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ:
–≠—Ç–æ—Ç —à–∞–≥ —è —É–∂–µ —Å–¥–µ–ª–∞–ª –≤ —Å–∞–º–æ–º –Ω–∞—á–∞–ª–µ, —Ç–∞–∫ —á—Ç–æ —Ç–µ–ø–µ—Ä—å –±—Ä–∞—É–∑–µ—Ä –ø–æ–Ω–∏–º–∞–µ—Ç, —á—Ç–æ alpha.test ‚Äî —ç—Ç–æ —Å–µ—Ä–≤–µ—Ä.

üöÄ

### 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ Nginx

*Deepseek —Å–∫–∞–∑–∞–ª, —á—Ç–æ —ç—Ç–æ –≤–∞–∂–Ω–µ–π—à–∏–π —à–∞–≥, —è –µ–º—É –≤–µ—Ä—é.*
#### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥–∞ –Ω–∞ –æ—à–∏–±–∫–∏ –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–æ–π:
```
sudo nginx -t
```
<img width="964" height="100" alt="image" src="https://github.com/user-attachments/assets/06836be9-dec2-43b4-bf70-587c36910c36" />

–í—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —É—Å–ø–µ—à–Ω–æ! ü•≥

#### –¢–µ–ø–µ—Ä—å –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º Nginx, —á—Ç–æ–±—ã –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è:
```
sudo systemctl restart nginx
```

### 6. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

#### –û—Ç–∫—Ä–æ–µ–º –±—Ä–∞—É–∑–µ—Ä –∏ –ø–µ—Ä–µ–π–¥–µ–º –ø–æ –∞–¥—Ä–µ—Å–∞–º:

* ```http://alpha.test``` ‚Äî –¥–æ–ª–∂–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–±—Ä–æ—Å–∏—Ç—å –Ω–∞ ```https://alpha.test```.

–¢—É—Ç —è –ø–æ—á—Ç–∏ —Ä–∞—Å–ø–ª–∞–∫–∞–ª—Å—è üò¢, –ø–æ—Ç–æ–º—É —á—Ç–æ —Å–∞–π—Ç –Ω–µ –∑–∞–ø—É—Å—Ç–∏–ª—Å—è, –Ω–æ –±—ã—Å—Ç—Ä–æ –ø–æ—Ñ–∏–∫—Å–∏–ª: 

1) –ë—ã–ª–∞ –æ—à–∏–±–∫–∞ - dnserror, —Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ —á—Ç–æ-—Ç–æ –Ω–µ —Ç–∞–∫ —Å hosts.
2) –õ–∏–±–æ —è –ø—Ä–æ—Å—Ç–æ –∑–∞–±—ã–ª —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏—Ö, –ª–∏–±–æ –µ—â–µ —á—Ç–æ-—Ç–æ.
3) –ò–∑–º–µ–Ω–∏–ª —Ñ–∞–π–ª ```C:\Windows\System32\drivers\etc\hosts```:
<img width="1136" height="678" alt="image" src="https://github.com/user-attachments/assets/41737320-8087-43c0-aac5-c1f9e8a8bc7c" />

4) –°–æ—Ö—Ä–∞–Ω–∏–ª.
5) –ü—Ä–æ–≤–µ—Ä–∏–ª —á—Ç–æ —Å–æ—Ö—Ä–∞–Ω–∏–ª.
6) –ü—Ä–æ–≤–µ—Ä–∏–ª —á—Ç–æ —Å–∞–π—Ç –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–±—Ä–∞—Å—ã–≤–∞–µ—Ç –Ω–∞ ```https://alpha.test```.

<img width="1845" height="291" alt="image" src="https://github.com/user-attachments/assets/c25b937d-3717-4b68-8d1d-1d0a8d6c28d1" />

–ë—Ä–∞—É–∑–µ—Ä —Ä—É–≥–∞–ª—Å—è –Ω–∞ —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç, –Ω–æ –º—ã –∫–æ–Ω–µ—á–Ω–æ –∂–µ –ø—Ä–∏–Ω—è–ª–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–æ–¥–æ–ª–∂–∏–ª–∏. 

* ```http://beta.test``` ‚Äî –¥–æ–ª–∂–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–±—Ä–æ—Å–∏—Ç—å –Ω–∞ ```https://beta.test```.
1)
<img width="1622" height="268" alt="image" src="https://github.com/user-attachments/assets/1f4f9c07-1e44-42b5-beb4-033cbfcfe40e" />

2)
<img width="1853" height="973" alt="image" src="https://github.com/user-attachments/assets/5879cf72-0996-43fd-93ba-652148dba928" />

3)
<img width="1831" height="336" alt="image" src="https://github.com/user-attachments/assets/8fef1289-9014-4051-8d47-c80ab6dc4b28" />

4)
<img width="1847" height="378" alt="image" src="https://github.com/user-attachments/assets/e5c4b5d8-2b3a-45d9-92c4-07502d302d50" />

#### –ü—Ä–æ–≤–µ—Ä–∏–º —Ä–µ–¥–∏—Ä–µ–∫—Ç —Å HTTP –Ω–∞ HTTPS —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É:
```
curl -I http://alpha.test
```
<img width="866" height="234" alt="image" src="https://github.com/user-attachments/assets/01c3c3c8-f70d-4cff-87a6-83c808d11746" />

–í—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç. ^_____^

–ü—Ä–æ–≤–µ—Ä–∏–º —Ç–∞–∫–∂–µ –ª–æ–≥–∏, —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –∑–∞–ø—Ä–æ—Å—ã –∏–¥—É—Ç –≤ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã:
```
sudo tail -f /var/www/alpha.test/logs/access.log
```
<img width="1915" height="290" alt="image" src="https://github.com/user-attachments/assets/7422d56e-720e-490c-b16b-6ce095c3c777" />

–ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ—è–≤–ª—è—é—Ç—Å—è –Ω–æ–≤—ã–µ –ª–æ–≥–∏, –≤—Å–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ.


